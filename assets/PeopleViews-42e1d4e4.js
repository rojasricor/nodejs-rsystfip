import{G as N,a as n,j as e,L as s,r as i,S as y,m as v,n as x,I as L,b as w,d as k}from"./index-0fc7a230.js";function A(t){return N({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"}},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}}]})(t)}function C({person:t}){return n("tr",{children:[e("td",{children:t.id}),e("td",{children:t.name}),n("td",{title:t.description,children:[t.ty_doc," ",t.num_doc]}),e("td",{children:t.person}),e("td",{children:t.fac}),e("td",{children:t.text_asunt}),e("td",{children:e(s,{to:`/people/view/${t.id}/edit`,className:"btn btn-link link-fc",title:`Edit personal data for person ${t.name}`,children:e(A,{})})})]})}function P(){const t=i.useRef(null),[c,o]=i.useState(0),[d,m]=i.useState([]),[u,l]=i.useState([]);async function p(){try{const a=await(await fetch(`${k}/get/people`)).json();m(a),l(a),t.current.focus()}catch{o(2)}finally{o(1)}}i.useEffect(()=>{document.title="RSystfip | Agendated people",p()},[]);let h=null;function f(r){clearTimeout(h),h=setTimeout(()=>{const a=r.target.value.toLowerCase();l(d.filter(({name:b,num_doc:g})=>b.toLowerCase().startsWith(a)||g.startsWith(a)))},500)}return e("div",{className:"row",children:n("div",{className:"col-12",children:[e("h1",{className:"h3",children:"Personas Agendadas"}),e("div",{className:"form-inline",children:n("div",{className:"btn-group btn-group-sm position-fixed bottom-px mb-2 mt-2",children:[e("input",{onChange:f,type:"search",placeholder:"Buscar una persona...",className:"form-control form-control-sm",ref:t}),e("button",{onClick:()=>{l(d)},className:"btn btn-fc-primary",title:"Refrescar datos",children:c===0?e(y,{tam:"sm"}):c===1?e(v,{}):e(x,{className:"text-danger"})}),e(s,{to:"/people/add",className:"btn btn-fc-primary",title:"Agendamiento por día",children:e(L,{})}),e(s,{to:"/people/schedule",className:"btn btn-fc-primary",title:"Agendamiento programado",children:e(w,{})})]})}),e("div",{className:"table-responsive",children:n("table",{className:"table table-hover table-sm text-center",children:[e("caption",{children:"Lista de personas agendadas"}),e("thead",{children:n("tr",{children:[e("th",{children:"No."}),e("th",{children:"Nombres"}),e("th",{children:"Identifación"}),e("th",{children:"Categoría"}),e("th",{children:"Facultad"}),e("th",{children:"Asunto"}),e("th",{children:"Acciones"})]})}),e("tbody",{children:u.map((r,a)=>e(C,{person:r},a))})]})})]})})}export{P as default};
